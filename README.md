# NEAR Private Data

Proof-of-concept for private data transmission on the NEAR blockchain.

[More details (internal doc)](https://docs.google.com/document/d/1ddOorhJ8_qrCyoRUR3Xd2gfWwaPi0TizVCoAsQECzrU/edit?usp=sharing)

## Demo

The `client/` project simply executes a sequence of operations that demonstrate the essential functionality of the protocol. It will generate and upload a key to a key repository for two different accounts, and then send messages between the two accounts. In order for it to work properly, create a `.env` file at the workspace root with the following contents:

```ini
KEY_FILE_PATH="<path>"
KEY2_FILE_PATH="<path>"
NETWORK="testnet"
KEY_REGISTRY_ACCOUNT_ID="<account-id>"
MESSAGE_REPOSITORY_ACCOUNT_ID="<account-id>"
```

Where `KEY_FILE_PATH` & `KEY2_FILE_PATH` are locations of NEAR key files (same format generated by `near-cli`). Usually these are located at `<USER_HOME>/.near-credentials/<network>/<account>.json`.

A test key registry is `dev-1677133604850-79852956982344`, and a test message repository is `dev-1677862759545-28354394598052`.

Then you can run `cargo run` from the `client/` directory and it should perform the sequence.

Currently there is not much of a user-friendly interface, and it is not interactive. Those features are _Coming Soon_&trade;.

A successful execution of the demo looks like this:

```text
Generated my key: cN9WE/WwwJbPz1LFZzO0wQDyHS05EwSzhYswYK8pJm0=
Setting my key in registry...done.
Retrieving my key from registry...done.
Response from contract: cN9WE/WwwJbPz1LFZzO0wQDyHS05EwSzhYswYK8pJm0=
Key is correct.
Setting second account key in registry...done.
Creating messengers...done.
Registering correspondents...done.
Sending "first to second" from hatchet.testnet to bit.testnet...
Checking for new messages to bit.testnet...
Received: "first to second"
Time to receive: 4461ms
Completed.
```

Note: this was accurate at time of writing, but this project is still very early and in development, so this document may not always be in sync with the latest changes.

# Authors

- Jacob Lindahl <jacob.lindahl@near.org> [@sudo_build](https://twitter.com/sudo_build)
